var ABPaginator=function(d){function n(a,b,d){a=[];for(var e=[],c=0;c<b.length;c++)if(e.push(b[c]),e.length==d||c+1==b.length)a.push(e),e=[];return a}function q(a){var b=d.dataSource;var h=a.dataset.id;var e=a.dataset.sortDirection||"asc";var c=a.getElementsByTagName("i")[0];l&&l.parentNode.removeAttribute("data-sort-direction");l=c;f=1;Array.isArray(b)&&(b.sort(function(b,c){return"asc"==e?c[h]<b[h]?1:-1:c[h]<b[h]?-1:1}),p(b),a.dataset.sortDirection="asc"==e?"desc":"asc")}function r(a,b){if(g)return g;
g=document.createElement("table");var h=document.createElement("thead"),e=document.createElement("tr");g.className=d.className;g.appendChild(h);h.appendChild(e);a.forEach(function(b,a){a=document.createElement("th");e.appendChild(a);h.appendChild(e);a.innerText=b.header;a.setAttribute("data-id",b.id);b=document.createElement("i");b.setAttribute("class","none");a.appendChild(b);a.onclick=function(){q(this)}});b.appendChild(g);if(void 0===d.hasPageIndex||d.hasPageIndex)a=document.createElement("div"),
a.setAttribute("class","nata_pageindex"),b.appendChild(a)}function m(a,b,h){var e=document.createElement("tbody");if(Array.isArray(b)){b.forEach(function(b){var c=document.createElement("tr");e.appendChild(c);a.forEach(function(a){var d=b[a.id],e="";"function"===typeof a.formatter&&(d=a.formatter(d,a.decimals||0));"number"==a.type&&(e="nata_right");a=document.createElement("td");a.setAttribute("class",e);a.innerText=d;c.appendChild(a)})});var c=t(a)}else{b=document.createElement("tr");var f=document.createElement("td");
f.setAttribute("colspan",a.length);f.innerText="No Rows To Display";b.appendChild(f);e.appendChild(b)}g.getElementsByTagName("tfoot")[0]&&g.removeChild(g.getElementsByTagName("tfoot")[0]);g.getElementsByTagName("tbody")[0]&&g.removeChild(g.getElementsByTagName("tbody")[0]);g.appendChild(e);c&&g.appendChild(c);c=h.getElementsByClassName("nata_pageindex");0<c.length&&(c[0].innerHTML="",u(d.dataSource,d.rowsPerPage,c[0],h))}function t(a){var b=[],h=d.dataSource;a.forEach(function(a){"SUM"==a.aggregate&&
(b[a.id]=h.reduce(function(b,c){return b+c[a.id]},0));if("formula"==a.aggregate){for(var c=a.formula,d=/{(.*?)}/g,e,f=[],g=[];null!=(e=d.exec(c));)f.push(e);f.forEach(function(a){var b=h.reduce(function(b,c){return b+c[a[1]]},0);g.push(b)});f.forEach(function(b,a){c=c.replace(b[0],g[a])});b[a.id]=eval(c)}});var e=document.createElement("tfoot"),c=document.createElement("tr"),f=document.createElement("td");f.setAttribute("colspan",a.length);f.innerText="Totals";c.appendChild(f);e.appendChild(c);c=
document.createElement("tr");c.setAttribute("class","totals");a.forEach(function(a){var d="",e=document.createElement("td");d=isNaN(b[a.id])?d+"":"function"===typeof a.formatter?d+a.formatter(b[a.id],a.decimals||0):d+b[a.id];e.innerText=d;c.appendChild(e)});e.appendChild(c);return e}function u(a,b,h,e){a=Math.ceil(a.length/b);0<f&&(b=document.createElement("div"),b.innerHTML="Previous",b.setAttribute("class","nata_pagenum"),b.onclick=function(){--f;m(d.columns,k[f],e)},h.appendChild(b));for(var c=
0;c<a;c++){var g="nata_pagenum";b=document.createElement("div");c==f&&(g+=" nata_pagecurrent");b.setAttribute("class",g);b.innerHTML=c+1;b.onclick=function(a){return function(){f=a;m(d.columns,k[a],e)}}(c);h.appendChild(b)}f<a-1&&(b=document.createElement("div"),b.innerHTML="Next",b.setAttribute("class","nata_pagenum"),b.onclick=function(){f+=1;m(d.columns,k[f],e)},h.appendChild(b))}function p(a){var b=d.containerElement;d.dataSource=a;f=0;l&&l.parentNode.removeAttribute("data-sort-direction");k=
n(d.columns,d.dataSource,d.rowsPerPage);m(d.columns,k[f],b)}var f,k,g,l;return{init:function(){var a=d.containerElement;f=0;k=n(d.columns,d.dataSource,d.rowsPerPage);r(d.columns,a);m(d.columns,k[f],a)},refresh:p}};
